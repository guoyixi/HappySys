<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html  xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<link rel="Bookmark" href="/favicon.ico" >
<link rel="Shortcut Icon" href="/favicon.ico" />
<!--[if lt IE 9]>
<script type="text/javascript" src="/lib/html5.js"></script>
<script type="text/javascript" src="/lib/respond.min.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="/h-ui/css/H-ui.min.css" />
<link rel="stylesheet" type="text/css" href="/h-ui.admin/css/H-ui.admin.css" />
<link rel="stylesheet" type="text/css" href="/lib/Hui-iconfont/1.0.8/iconfont.css" />
<link rel="stylesheet" type="text/css" href="/h-ui.admin/skin/default/skin.css" id="skin" />
<link rel="stylesheet" type="text/css" href="/h-ui.admin/css/style.css" />
	<link rel="stylesheet" href="/layui/css/layui.css"  media="all">
<!--[if IE 6]>
<script type="text/javascript" src="http://lib.h-ui.net/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script><![endif]-->
<!--/meta 作为公共模版分离出去-->

<title>添加商品 - H-ui.admin v3.0</title>
<meta name="keywords" content="H-ui.admin v3.0,H-ui网站后台模版,后台模版下载,后台管理系统模版,HTML后台模版下载">
<meta name="description" content="H-ui.admin v3.0，是一款由国人开发的轻量级扁平化网站后台模板，完全免费开源的网站后台管理系统模版，适合中小型CMS后台系统。">
</head>
<body>
<article class="cl pd-20">
	<form action="/product/add" method="post" class="form form-horizontal"  enctype="multipart/form-data" ><!--id="form-member-add"-->
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>产品名：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input type="text" class="input-text" value="" placeholder="" id="productname" name="productTitle">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>价格：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input type="text" class="input-text" value="" placeholder="" id="price" name="productPrice">
			</div>
		</div>

		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">附件图片：</label>
			<div class="formControls col-xs-8 col-sm-9"> <span class="btn-upload form-group">
				<input class="input-text upload-url" type="text" name="file" id="uploadfile" readonly nullmsg="请添加附件！" style="width:200px">
				<a href="javascript:void();" class="btn btn-primary radius upload-btn"><i class="Hui-iconfont">&#xe642;</i> 浏览文件</a>
				<input type="file" multiple name="file2" class="input-file">
				</span> </div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">年龄期间：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<div id="section" class="demo-tree demo-tree-box"></div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">保险期限：</label>
			<div class="formControls col-xs-8 col-sm-9">

				<div id="deadline" class="demo-tree demo-tree-box"></div>
			</div>
		</div>

		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">保险保额：</label>
			<div class="formControls col-xs-8 col-sm-9">

				<div id="insuranceSum" class="demo-tree demo-tree-box"></div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">保险特色：</label>
			<div class="formControls col-xs-8 col-sm-9">

				<div id="feature" class="demo-tree demo-tree-box"></div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">保险：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<div id="insurance" class="demo-tree demo-tree-box"></div>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">分类：</label>
			<div class="formControls col-xs-8 col-sm-9">

				<span id="biaoji"></span>
				<select id="product_level2" name="productLevel2"><option value="-1">请选择--</option></select>
				<select id="product_level3" name="productLevel3"><option value="-1">请选择--</option></select>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">描述：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<textarea name="productDetails" cols="" rows="" class="textarea"  placeholder="说点什么...最少输入5个字符" ></textarea>
				<!--<p class="textarea-numberbar"><em class="textarea-length">0</em>/100</p>-->
			</div>
		</div>
		<div class="row cl">
			<div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">
				<input class="btn btn-primary radius" type="submit" value="&nbsp;&nbsp;提交&nbsp;&nbsp;">
			</div>
		</div>
	</form>

</article>

<!--_footer 作为公共模版分离出去-->
<script type="text/javascript" src="/lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="/lib/layer/2.4/layer.js"></script>
<script type="text/javascript" src="/h-ui/js/H-ui.js"></script>
<script type="text/javascript" src="/h-ui.admin/js/H-ui.admin.page.js"></script>
<!--/_footer /作为公共模版分离出去-->

<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript" src="/lib/My97DatePicker/4.8/WdatePicker.js"></script>
<script type="text/javascript" src="/lib/jquery.validation/1.14.0/jquery.validate.js"></script>
<script type="text/javascript" src="/lib/jquery.validation/1.14.0/validate-methods.js"></script>
<script type="text/javascript" src="/lib/jquery.validation/1.14.0/messages_zh.js"></script>
<script src="/layui/layui.js" charset="utf-8"></script>

<script type="text/javascript" th:inline="javascript">

	$(document).on("change","#product_level1",function () {
		var parentid=$(this).val();
		$("#product_level2").find("option").remove();
		$.post("/ajax/category/"+parentid,function (data) {
		    var str="";
            for (var i=0;i<data.length;i++){
                str+="<option name=\"productLevel2\" value=\""+data[i].categoryId+"\">"+data[i].categoryName+"</option>";
            }
            $("#product_level2").append(str);
        })
    });

    $(document).on("change","#product_level2",function () {
        var parentid=$(this).val();
        $("#product_level3").find("option").remove();
        $.post("/ajax/category/"+parentid,function (data) {
            var str="";
            for (var i=0;i<data.length;i++){
                str+="<option name=\"productLevel3\" value=\""+data[i].categoryId+"\">"+data[i].categoryName+"</option>";
            }
            $("#product_level3").append(str);
        })
    });



$(function() {

    $.post("/ajax/section", function (data) {
        console.info(data);
        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util

                //section渲染数据
                , data2 = data

            //常规用法
            tree.render({
                elem: '#section' //默认是点击节点可进行收缩
                , data: data2
            });
        })
        $("#ageselect").remove();
		var str="<select id='ageselect' name='productSectionList'>";

		for(var i=0;i<data.length;i++){
			str+="<option name=\"productSectionList\" value=\""+data[i].id+"\">"+data[i].title+"</option>";
		}
		str+="</select>";
		$("#section").before(str);
    });
    $.post("/ajax/dealinelist",function (data) {
        console.info(data);
        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util

                //section渲染数据
                , data2 = data

            //常规用法
            tree.render({
                elem: '#deadline' //默认是点击节点可进行收缩
                , data: data2
            });
        })
        $("#deadlineselect").remove();
        var str="<select id='deadlineselect' name='productDeadlineList'>";
        for(var i=0;i<data.length;i++){
            str+="<option name=\"productDeadlineList\" value=\""+data[i].id+"\">"+data[i].title+"</option>";
        }
        str+="</select>";
        $("#deadline").before(str);
    })

	$.post("/ajax/insuranceSumList",function (data) {
        console.info(data);
        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util

                //section渲染数据
                , data2 = data

            //常规用法
            tree.render({
                elem: '#insuranceSum' //默认是点击节点可进行收缩
                , data: data2
            });
        })
        $("#deadlineselect").remove();
        var str="<select id='insuranceSumselect' name='productInsuranceSumList'>";
        for(var i=0;i<data.length;i++){
            str+="<option name=\"productInsuranceSumList\" value=\""+data[i].id+"\">"+data[i].title+"</option>";
        }
        str+="</select>";
        $("#insuranceSum").before(str);
    })
	$.post("/ajax/featureList",function (data) {
        console.info(data);
        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util

                //section渲染数据
                , data2 = data

            //常规用法
            tree.render({
                elem: '#feature' //默认是点击节点可进行收缩
                , data: data2
            });
        })
        $("#featureselect").remove();
        var str="<select id='featureselect' name='productFeatureList'>";
        for(var i=0;i<data.length;i++){
            str+="<option name=\"productFeatureList\" value=\""+data[i].id+"\">"+data[i].title+"</option>";
        }
        str+="</select>";
        $("#feature").before(str);
    })
	$.post("/ajax/insurance_list",function (data) {
        console.info(data);
        layui.use(['tree', 'util'], function () {
            var tree = layui.tree
                , layer = layui.layer
                , util = layui.util

                //section渲染数据
                , data2 = data

            //常规用法
            tree.render({
                elem: '#insurance' //默认是点击节点可进行收缩
                , data: data2
            });
        })
        $("#insuranceselect").remove();
        var str="<select id='insuranceselect' name='productInsuranceList'>";
        for(var i=0;i<data.length;i++){
            str+="<option name=\"productInsuranceList\" value=\""+data[i].id+"\">"+data[i].title+"</option>";
        }
        str+="</select>";
        $("#insurance").before(str);
    })
	$.post("/ajax/category/0",function (data) {
		var str="<select id='product_level1' name='productLevel1'><option name=\"yiji\" value='-1'>请选择--</option>";
		for (var i=0;i<data.length;i++){
		    str+="<option name=\"productLevel1\" value=\""+data[i].categoryId+"\">"+data[i].categoryName+"</option>";
		}
		str+="</select>";
		$("#biaoji").before(str);
    })

        $('.skin-minimal input').iCheck({
            checkboxClass: 'icheckbox-blue',
            radioClass: 'iradio-blue',
            increaseArea: '20%'
        });

        $("#form-member-add").validate({
            rules: {
                username: {
                    required: true,
                    minlength: 2,
                    maxlength: 16
                },
                sex: {
                    required: true,
                },
                mobile: {
                    required: true,
                    isMobile: true,
                },
                email: {
                    required: true,
                    email: true,
                },
                uploadfile: {
                    required: true,
                },

            },
            onkeyup: false,
            focusCleanup: true,
            success: "valid",
            submitHandler: function (form) {
                $(form).ajaxSubmit();
                var index = parent.layer.getFrameIndex(window.name);
                parent.$('.btn-refresh').click();
                parent.layer.close(index);
            }
        });

});
</script> 
<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>